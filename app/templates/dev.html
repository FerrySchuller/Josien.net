{% extends "base.html" %}
{% block title %}Josien.net{% endblock %}

{% block content -%}

<script type="text/javascript" src="{{ url_for('static', filename='js/highstock.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/dark-unica.js') }}"></script>

<div class="container-fluid">
  <div class="p-1" id="container"></div>
</div>
{%- endblock content %}

{% block scripts %}
    {{ super() }}
<script>
var burn = {{ omi.burn|safe }}
var vault = {{ omi.vault|safe }}
var reserve = {{ omi.reserve|safe }}
var omiusdt = {{ omi.omiusdt|safe }}

Highcharts.chart('container', {
    title: { text: 'Reserve {{ "{:,.0f}".format(omi.reserve[-1].y) }}<br />Vault {{ "{:,.0f}".format(omi.vault[-1].y) }}<br />Burn {{ "{:,.0f}".format(omi.burn[-1].y) }}' },
    chart: { zoomType: 'x', height: 600 },
    yAxis: [ { visible: false}, 
             { visible: false},
             { visible: false},
             { title: { text: 'OMI / USDT' } } ],
    xAxis: { type: 'datetime' },
    legend: { enabled: true },
    series: [ { name: 'reserve', yAxis: 0,  data: reserve },
              { name: 'vault', yAxis: 1, data: vault },
              { name: 'burn', yAxis: 2, data: burn },
              { name: 'omiusdt', yAxis: 3, data: omiusdt },
              { type: 'flags', data: [{ x: 1622124011000, title: 'DC Cover Girls â€” Series 1' } ],
                shape: 'squarepin' } ],
    tooltip: { crosshairs: true,
               shared: true },
});

</script>
<script type=text/javascript>
  var $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
</script>
{%- endblock scripts %}
