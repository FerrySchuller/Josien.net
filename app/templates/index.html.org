{% extends "base.html" %}
{% block title %}Josien.net{% endblock %}

{% block content -%}
<script type="text/javascript" src="{{ url_for('static', filename='js/chart.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/chartjs-adapter-date-fns.bundle.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/moment.js') }}"></script>

<div class="container-fluid">

<div> <canvas id="reserve" width="1300" height="200"></canvas></div>
<div> <canvas id="vault" width="1300" height="200"></canvas></div>
<div> <canvas id="burn" width="1300" height="200"></canvas></div>


</div>


<script>
var burn = {{ omi.burn|safe }}
var vault = {{ omi.vault|safe }}
var reserve = {{ omi.reserve|safe }}

var ctx_burn = document.getElementById("burn");
var ctx_vault = document.getElementById("vault");
var ctx_reserve = document.getElementById("reserve");

new Chart(ctx_burn, {
    type: 'line',
    data: { datasets: [ { label: 'burn',
                          pointRadius: 2,
                          pointHoverRadius: 10,
                          borderColor: "#3e95cd",
                          data: burn } ] },
    options: {
        scales: {
            x: {
                type: 'time',
                time: { unit: 'day' }
            }
        }
    }
    });

new Chart(ctx_vault, {
    type: 'line',
    data: { datasets: [ { label: 'vault',
                          pointRadius: 2,
                          pointHoverRadius: 10,
                          borderColor: "#3e95cd",
                          data: vault } ] },
    options: {
        scales: {
            x: {
                type: 'time',
                time: { unit: 'day' }
            }
        }
    }
    });

new Chart(ctx_reserve, {
    type: 'line',
    data: { datasets: [ { label: 'reserve',
                          pointRadius: 2,
                          pointHoverRadius: 10,
                          borderColor: "#3e95cd",
                          data: reserve } ] },
    options: {
        scales: {
            x: {
                type: 'time',
                time: { unit: 'day' }
            }
        }
    }
    });
</script>
{%- endblock content %}


{% block scripts %}
    {{ super() }}
<script type=text/javascript>
  var $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
</script>
{%- endblock scripts %}
